{% extends "layout.html" %}

{% block title %}Join WOVCC - ¬£15/Year Membership{% endblock %}

{% block description %}Join Wickersley Old Village Cricket Club for just ¬£15/year (renewals ¬£10). Enjoy member benefits
including bar discounts and club access.{% endblock %}

{% block breadcrumb_items %}
,{
"@type": "ListItem",
"position": 2,
"name": "Join",
"item": {
"@type": "WebPage",
"@id": "{{ site_base_url }}/join"
}
}
{% endblock %}

{% block extra_css %}
<!-- Product Schema for Membership -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Product",
  "name": "WOVCC Annual Membership",
  "description": "Annual membership to Wickersley Old Village Cricket Club including bar discounts, club access, and community benefits",
  "image": "{{ site_base_url }}/assets/logo_favicon.webp",
  "brand": "Wickersley Old Village Cricket Club",
  "offers": {
    "@type": "Offer",
    "url": "{{ site_base_url }}/join",
    "priceCurrency": "GBP",
    "price": "15.00",
    "priceValidUntil": "2025-12-31",
    "availability": "https://schema.org/InStock"
  }
}
</script>
<style>
  /* Local inline styles for critical functionality */
  .password-requirements {
    max-height: 0;
    overflow: hidden;
    opacity: 0;
    transition: all 0.3s ease;
    background: var(--secondary-bg);
    border-radius: 6px;
    margin-top: 0;
  }

  .password-requirements.visible {
    max-height: 100px;
    opacity: 1;
    padding: 10px;
    margin-top: 10px;
  }

  .password-req-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 8px 12px;
    font-size: 0.8rem;
  }

  .req-item {
    color: var(--text-light);
  }

  .req-item.met {
    color: #28a745;
  }
</style>
{% endblock %}

{% block extra_js %}
<script src="/scripts/pages.js?v={{ asset_version }}"></script>
{% endblock %}

{% block content %}
<!-- Minimal Hero -->
<section class="hero page-hero">
  <div class="hero-content">
    <h1>Become a Member</h1>
    <p>Join the community today</p>
  </div>
</section>

<section class="section join-section">
  <div class="container">

    <div class="join-layout">

      <!-- LEFT COLUMN: Benefits & Value -->
      <div class="join-sidebar">
        <div class="membership-card">
          <div class="price-header">
            <span class="currency">¬£</span>
            <span class="amount">15</span>
            <span class="duration">/year</span>
          </div>
          <p class="price-note">Initial fee. Renewals just ¬£10.</p>

          <div class="divider"></div>

          <h3 class="perks-title">What's Included:</h3>
          <ul class="benefits-list">
            <li>
              <span class="benefit-icon">üçª</span>
              <span><strong>Bar Discounts:</strong> Exclusive member prices on drinks.</span>
            </li>
            <li>
              <span class="benefit-icon">üí≥</span>
              <span><strong>Member Card:</strong> Cashless top-up system.</span>
            </li>
            <li>
              <span class="benefit-icon">üéâ</span>
              <span><strong>Events:</strong> Priority access to club events.</span>
            </li>
            <li>
              <span class="benefit-icon">üîí</span>
              <span><strong>Access:</strong> Exclusive members area.</span>
            </li>
          </ul>
        </div>

        <div class="sidebar-login-prompt">
          <p>Already a member?</p>
          <a href="/members" class="btn btn-outline btn-sm">Login to Account</a>
        </div>
      </div>

      <!-- RIGHT COLUMN: Signup Form -->
      <div class="join-form-area">
        <div class="card form-card">
          <div class="form-header">
            <h2>Create Account</h2>
            <p>It takes less than 2 minutes.</p>
          </div>

          <form id="signup-form" class="clean-form">
            <!-- Personal Info -->
            <div class="form-section-label">Personal Details</div>

            <div class="form-group">
              <label for="name">Full Name</label>
              <input type="text" id="name" class="form-input" placeholder="e.g. Joe Root" required>
            </div>

            <div class="form-row">
              <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" class="form-input" placeholder="you@example.com" required>
              </div>
              <div class="form-group">
                <label for="confirmEmail">Confirm Email</label>
                <input type="email" id="confirmEmail" class="form-input" placeholder="Confirm your email" required>
              </div>
            </div>

            <!-- Security -->
            <div class="form-section-label">Security</div>

            <div class="form-row">
              <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" class="form-input" placeholder="Create password" required>
              </div>
              <!-- Requirements show here -->
              <div class="form-group">
                <label for="confirmPassword">Confirm Password</label>
                <input type="password" id="confirmPassword" class="form-input" placeholder="Confirm password" required>
              </div>
            </div>

            <!-- PW Requirements moved to full width container below row -->
            <div id="password-requirements" class="password-requirements">
              <div class="password-req-grid">
                <span id="req-length" class="req-item">8+ lowercase</span>
                <span id="req-uppercase" class="req-item">1 uppercase</span>
                <span id="req-number" class="req-item">1 number</span>
                <span id="req-special" class="req-item">1 special</span>
              </div>
            </div>

            <!-- Preferences -->
            <div class="form-section-label">Preferences</div>

            <!-- Checkbox Group -->
            <div class="checkbox-group-styled">
              <label class="custom-checkbox-container">
                <input type="checkbox" id="newsletter" name="newsletter">
                <span class="checkmark"></span>
                <span class="checkbox-content">
                  <span class="cb-title">Keep me updated</span>
                  <span class="cb-desc">Receive club news, event updates, and exclusive offers via email.</span>
                </span>
              </label>

              <label class="custom-checkbox-container highlight-checkbox">
                <input type="checkbox" id="spouseCard" name="spouseCard">
                <span class="checkmark"></span>
                <span class="checkbox-content">
                  <span class="cb-title">Add Extra Card (+¬£5)</span>
                  <span class="cb-desc">Link an additional physical card to your account (e.g. for a
                    partner/spouse).</span>
                </span>
                <span class="price-tag">+¬£5</span>
              </label>
            </div>

            <!-- Footer / Total -->
            <div class="checkout-footer">
              <div class="terms-text">
                By clicking continue, you agree to our <a href="/privacy">Privacy Policy</a>.
              </div>

              <div class="total-row">
                <span>Total to Pay:</span>
                <span id="totalPrice" class="total-amount">¬£15</span>
              </div>

              <button type="submit" class="btn btn-primary btn-block btn-lg">
                Continue to Payment ‚Üí
              </button>
            </div>

          </form>
        </div>

        <div class="mobile-login-prompt">
          Already a member? <a href="/members">Login here</a>
        </div>
      </div>

    </div>
  </div>
</section>
{% endblock %}