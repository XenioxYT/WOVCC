{% extends "layout.html" %}

{% block title %}Wickersley Old Village Cricket Club | WOVCC{% endblock %}

{% block description %}Wickersley Old Village Cricket Club (WOVCC) - Community cricket club in Rotherham, South
Yorkshire. Offering ECB Premier League Cricket, Women's Cricket (The Vixens), Junior Cricket, All Stars & Dynamos.
Clubhouse available for private functions and celebrations. Join for just ¬£15/year. Located at Northfield Lane,
Wickersley S66 2HL.{% endblock
%}

{% block og_image %}{{ site_base_url }}/assets/banner.webp{% endblock %}
{% block og_image_width %}1200{% endblock %}
{% block og_image_height %}630{% endblock %}
{% block og_image_alt %}Wickersley Old Village Cricket Club ground and clubhouse{% endblock %}

{% block twitter_card %}summary_large_image{% endblock %}
{% block twitter_image %}{{ site_base_url }}/assets/banner.webp{% endblock %}
{% block twitter_image_alt %}Wickersley Old Village Cricket Club ground and clubhouse{% endblock %}

{% block breadcrumb_schema %}
<!-- Homepage is the root, no breadcrumb needed -->
{% endblock %}

{% block extra_css %}
<!-- Schema.org structured data for homepage events and venue hire -->
{% if has_upcoming_events or has_today_events %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "Upcoming Events at Wickersley Old Village Cricket Club",
  "numberOfItems": {{ (today_events + upcoming_events)|length }},
  "itemListElement": [
    {% for event in (today_events if has_today_events else upcoming_events)[:3] %}
    {
      "@type": "ListItem",
      "position": {{ loop.index }},
      "item": {
        "@type": "Event",
        "name": "{{ event.title | e }}",
        "description": "{{ event.short_description | e }}",
        {% if event.date %}"startDate": "{{ event.date }}",{% endif %}
        {% if event.image_url %}"image": "{{ site_base_url }}{{ event.image_url }}",{% endif %}
        "url": "{{ site_base_url }}/events/{% if event.slug %}{{ event.slug }}{% else %}{{ event.id }}{% endif %}",
        "location": {
          "@type": "Place",
          "name": "{% if event.location %}{{ event.location | e }}{% else %}Wickersley Old Village Cricket Club{% endif %}",
          "address": {
            "@type": "PostalAddress",
            "streetAddress": "Northfield Lane",
            "addressLocality": "Wickersley, Rotherham",
            "postalCode": "S66 2HL",
            "addressCountry": "GB"
          }
        }
      }
    }{% if not loop.last %},{% endif %}
    {% endfor %}
  ]
}
</script>
{% endif %}

<!-- Clubhouse Private Functions Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "EventVenue",
  "name": "WOVCC Clubhouse - Private Functions",
  "description": "Section of clubhouse available for private functions and celebrations at Wickersley Old Village Cricket Club. Perfect for parties, wakes, and special occasions.",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "Northfield Lane",
    "addressLocality": "Wickersley, Rotherham",
    "postalCode": "S66 2HL",
    "addressCountry": "GB"
  },
  "containedInPlace": {
    "@type": "SportsClub",
    "name": "Wickersley Old Village Cricket Club",
    "url": "{{ site_base_url }}"
  },
  "amenityFeature": [
    {"@type": "LocationFeatureSpecification", "name": "Licensed Bar", "value": true},
    {"@type": "LocationFeatureSpecification", "name": "Parking", "value": true},
    {"@type": "LocationFeatureSpecification", "name": "Catering Available", "value": true}
  ],
  "potentialAction": {
    "@type": "ReserveAction",
    "target": "{{ site_base_url }}/contact"
  }
}
</script>
{% endblock %}

{% block extra_js %}
<script src="/scripts/api-client.js?v={{ asset_version }}"></script>
<script src="/scripts/match-controller.js?v={{ asset_version }}"></script>
<script src="/scripts/beer-carousel.js?v={{ asset_version }}"></script>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero"
  style="background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('/assets/banner.webp'); background-size: cover; background-position: center bottom;">
  <div class="hero-content">
    <img src="/assets/logo.webp" alt="WOVCC Logo"
      style="width: 120px; height: 120px; margin: 0 auto 20px; border-radius: 50%; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
    <h1>{{ snippets.get('homepage_hero_title', 'Welcome to Wickersley Old Village CC') }}</h1>
    <p>{{ snippets.get('homepage_hero_subtitle', 'A Village cricket club offering ECB Premier League Cricket, Women\'s
      Cricket & Junior Cricket including Dynamos and All Stars') }}</p>
    <a href="/join" class="btn btn-primary">Join for ¬£15</a>
  </div>
</section>

<!-- Homepage Sections Container (allows reordering on mobile) -->
<div class="homepage-sections">

  <!-- Beer Image Band (scrolling ticker like sponsors) -->
  {% if beer_images and beer_images|length > 0 %}
  <section class="beer-band-container" id="homepage-beer-carousel">
    <h3 class="beer-band-title">At the Bar</h3>
    <p class="beer-band-subtitle">Current drinks available at the club</p>
    <div class="beer-band-wrapper">
      <div class="beer-band">
        {% for image in beer_images %}
        <span class="beer-image-link" title="{{ image.name }}">
          <img src="{{ image.image_url }}" alt="{{ image.name }}" class="beer-image" loading="lazy">
        </span>
        {% endfor %}
        <!-- Duplicate for seamless loop -->
        {% for image in beer_images %}
        <span class="beer-image-link" title="{{ image.name }}">
          <img src="{{ image.image_url }}" alt="{{ image.name }}" class="beer-image" loading="lazy">
        </span>
        {% endfor %}
      </div>
    </div>
  </section>
  {% endif %}

  <!-- Match Day Hub -->
  <section class="matchday-hub section" id="homepage-matches">
    <div class="container">
      <h2 class="section-title">Match Information</h2>

      <!-- Live Match Section (shown during match days) -->
      <div id="live-match-section" style="display: none;">
        <div class="matchday-content">

          <!-- Optional External Livestream Player (Primary Match) -->
          <div class="livestream-container" id="external-livestream-container" style="display: none;">
            <h3 id="livestream-match-title">Live Stream</h3>
            <iframe class="livestream-player" id="external-livestream-player" src="" frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
              allowfullscreen>
            </iframe>
          </div>

          <!-- Live Scores Widgets (Multiple - All Today's Matches) -->
          <div class="scores-container">
            <h3 style="margin-bottom: 25px;">Live Scores</h3>
            <div id="live-scores-widgets-container">
              <!-- Multiple Play-Cricket Live Scores Widgets will be injected here dynamically -->
            </div>
          </div>

        </div>
      </div>

      <!-- No Match Section (shown when no matches) -->
      <div id="no-match-section">
        <!-- Team Selector -->
        <div style="text-align: center; margin-bottom: 30px;">
          <label for="team-selector" style="font-weight: 600; margin-right: 10px; color: var(--text-dark);">Select
            Team:</label>
          <select id="team-selector"
            style="padding: 10px 20px; border-radius: 8px; border: 1px solid var(--border-color); background: white; font-family: var(--font-family); font-size: 1rem; cursor: pointer;">
            <option value="all">All Teams</option>
            <!-- Options will be populated by JavaScript -->
          </select>
        </div>

        <!-- Fixtures and Results Vertical Stack -->
        <div style="max-width: 900px; margin: 0 auto;">
          <!-- Upcoming Fixtures -->
          <div class="fixtures-section" style="margin-bottom: 40px;">
            <h3 style="color: var(--primary-color); margin-bottom: 20px;">Upcoming Fixtures</h3>
            <div id="upcoming-fixtures-container">
              <!-- Content loaded by JavaScript -->
            </div>
          </div>

          <!-- Recent Results -->
          <div class="results-section" style="margin-bottom: 40px;">
            <h3 style="color: var(--primary-color); margin-bottom: 20px;">Recent Results</h3>
            <div id="recent-results-container">
              <!-- Content loaded by JavaScript -->
            </div>
          </div>

          <!-- Last Updated Timestamp -->
          <div id="last-updated-container"></div>

          <!-- Show All Matches Button -->
          <div style="text-align: center; margin-top: 30px;">
            <a href="/matches" class="btn btn-primary" style="padding: 14px 32px; font-size: 1.05rem;">
              <svg style="width: 18px; height: 18px; margin-right: 8px; vertical-align: middle;" fill="currentColor"
                viewBox="0 0 20 20">
                <path fill-rule="evenodd"
                  d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
                  clip-rule="evenodd" />
              </svg>
              Show All Matches
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Events Showcase Section -->
  <section class="section" id="homepage-events"
    style="background: linear-gradient(180deg, var(--surface-color) 0%, white 100%);">
    <div class="container">
      <h2 class="section-title">What's On at the Club</h2>

      {% if has_today_events %}
      <!-- Happening Today -->
      <div style="text-align: center; margin-bottom: 1.5rem;">
        <span
          style="display: inline-block; background: linear-gradient(135deg, #dc3545, #c82333); color: white; padding: 6px 16px; border-radius: 20px; font-size: 0.9rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">
          üéâ Happening Today
        </span>
      </div>
      <div
        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
        {% for event in today_events[:3] %}
        <a href="/events/{% if event.slug %}{{ event.slug }}{% else %}{{ event.id }}{% endif %}"
          style="display: block; text-decoration: none; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border: 2px solid var(--accent-color); transition: transform 0.3s ease, box-shadow 0.3s ease;">
          {% if event.image_url %}
          <div style="height: 160px; overflow: hidden;">
            <img src="{{ event.image_url }}" alt="{{ event.title }}"
              style="width: 100%; height: 100%; object-fit: cover;">
          </div>
          {% endif %}
          <div style="padding: 1.25rem;">
            <h3 style="margin: 0 0 0.5rem 0; font-size: 1.15rem; color: var(--text-dark); font-weight: 700;">{{
              event.title }}</h3>
            <p style="margin: 0 0 0.75rem 0; color: var(--text-secondary); font-size: 0.9rem; line-height: 1.5;">{{
              event.short_description[:100] }}{% if event.short_description|length > 100 %}...{% endif %}</p>
            <div
              style="display: flex; align-items: center; gap: 0.75rem; color: var(--text-light); font-size: 0.85rem;">
              <span>üìç {{ event.location or 'WOVCC Clubhouse' }}</span>
              {% if event.time %}<span>‚è∞ {{ event.time }}</span>{% endif %}
            </div>
          </div>
        </a>
        {% endfor %}
      </div>

      {% elif has_upcoming_events %}
      <!-- Upcoming Events -->
      <div style="text-align: center; margin-bottom: 1.5rem;">
        <span
          style="display: inline-block; background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)); color: white; padding: 6px 16px; border-radius: 20px; font-size: 0.9rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;">
          Upcoming Events
        </span>
      </div>
      <div
        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
        {% for event in upcoming_events %}
        <a href="/events/{% if event.slug %}{{ event.slug }}{% else %}{{ event.id }}{% endif %}"
          style="display: block; text-decoration: none; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border: 1px solid var(--border-color); transition: transform 0.3s ease, box-shadow 0.3s ease;">
          {% if event.image_url %}
          <div style="height: 160px; overflow: hidden;">
            <img src="{{ event.image_url }}" alt="{{ event.title }}"
              style="width: 100%; height: 100%; object-fit: cover;">
          </div>
          {% endif %}
          <div style="padding: 1.25rem;">
            <p
              style="margin: 0 0 0.5rem 0; color: var(--accent-color); font-size: 0.8rem; font-weight: 600; text-transform: uppercase;">
              {{ event.date_display }}</p>
            <h3 style="margin: 0 0 0.5rem 0; font-size: 1.15rem; color: var(--text-dark); font-weight: 700;">{{
              event.title }}</h3>
            <p style="margin: 0 0 0.75rem 0; color: var(--text-secondary); font-size: 0.9rem; line-height: 1.5;">{{
              event.short_description[:100] }}{% if event.short_description|length > 100 %}...{% endif %}</p>
            <div
              style="display: flex; align-items: center; gap: 0.75rem; color: var(--text-light); font-size: 0.85rem;">
              <span>üìç {{ event.location or 'WOVCC Clubhouse' }}</span>
              {% if event.time %}<span>‚è∞ {{ event.time }}</span>{% endif %}
            </div>
          </div>
        </a>
        {% endfor %}
      </div>

      {% else %}
      <!-- No Events - Generic Message -->
      <div
        style="text-align: center; padding: 2rem; background: var(--secondary-bg); border-radius: 12px; margin-bottom: 2rem;">
        <p style="margin: 0; color: var(--text-secondary); font-size: 1.05rem; line-height: 1.7;">
          We regularly host exciting events at the club including quiz nights, live entertainment, cricket festivals,
          and
          family fun days.
          Check our <a href="/events" style="color: var(--accent-color); font-weight: 600;">events page</a> or follow us
          on social media to stay updated!
        </p>
      </div>
      {% endif %}

      <!-- View All Events Button -->
      <div style="text-align: center;">
        <a href="/events" class="btn btn-secondary" style="padding: 12px 28px; font-size: 1rem;">
          <svg style="width: 18px; height: 18px; margin-right: 8px; vertical-align: middle;" fill="currentColor"
            viewBox="0 0 20 20">
            <path fill-rule="evenodd"
              d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"
              clip-rule="evenodd" />
          </svg>
          View All Events
        </a>
      </div>
    </div>
  </section>

</div><!-- End homepage-sections -->

<!-- Clubhouse for Private Functions Section -->
<section class="section" style="background-color: var(--primary-color);">
  <div class="container">
    <div style="display: flex; flex-wrap: wrap; align-items: center; justify-content: space-between; gap: 2rem;">
      <div style="flex: 1; min-width: 280px;">
        <h2 style="color: white; font-size: 1.75rem; margin: 0 0 0.75rem 0; font-weight: 700;">{{
          snippets.get('homepage_functions_title', 'Host Your Event at the Clubhouse') }}</h2>
        <p style="color: rgba(255,255,255,0.9); font-size: 1.05rem; line-height: 1.7; margin: 0;">
          {{ snippets.get('homepage_functions_text', 'Looking for a venue for your next celebration? A section of our
          clubhouse can be reserved for private functions. With a licensed bar, ample parking, DJ facilities
          available, and a welcoming atmosphere, WOVCC is
          the perfect venue for birthday parties, wakes, and special occasions. <a href="/contact"
            style="color: white; text-decoration: underline;">Contact us for details.</a>')|safe }}
        </p>
      </div>
      <div style="flex-shrink: 0;">
        <a href="/contact" class="btn"
          style="background: white; color: var(--primary-color); padding: 14px 32px; font-size: 1.05rem; font-weight: 600; border-radius: 8px; text-decoration: none; display: inline-flex; align-items: center; gap: 8px; transition: transform 0.2s ease, box-shadow 0.2s ease;">
          <svg style="width: 20px; height: 20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z">
            </path>
          </svg>
          Enquire Now
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Club Information -->
<section class="about-section section" style="background-color: var(--secondary-bg);">
  <div class="container">
    <h2 class="section-title">About Wickersley Old Village Cricket Club</h2>

    <div class="about-text-content">
      <p>{{ snippets.get('homepage_about_p1', "We're a Village cricket club offering a variety of cricket from ECB
        Premier League Cricket, Women's Cricket & Junior Cricket including Dynamos and All Stars. We have 3 senior
        teams
        playing in the Yorkshire Cricket Southern Premier League in the Championship, Division 1 & Division 5.") }}
      </p>

      <p>{{ snippets.get('homepage_about_p2', "Our Women's section - The Vixens, have 3 teams in the Yorkshire Cricket
        Premier League competing in Division 1 for Hardball and Softball, and also in Division 3 Softball.") }}</p>

      <p>{{ snippets.get('homepage_about_p3', "We have junior teams in the Ben Jessop Junior Cricket League: U9s,
        U11s,
        U13s, U15s, U18s plus our Junior Vixens. Our successful All Stars programme will be back again this year along
        with Dynamos cricket.") }}</p>

      <p>{{ snippets.get('homepage_about_p4', "Join WOVCC for just ¬£15 (first year) and enjoy drink discounts, member
        benefits, and access to exclusive content. Renewals are ¬£10/year. Thank you to all our members, guests and
        sponsors for making each season a great success.") }}</p>
    </div>
  </div>
</section>
{% endblock %}